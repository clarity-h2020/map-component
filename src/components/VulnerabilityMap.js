import React from "react";
import ReactDOM from 'react-dom';
import MapComponent from './commons/MapComponent';
import BasicMap from './commons/BasicMap';

/**
 * @deprecated this map is not used anymore
 */
export default class VulnerabilityMap extends BasicMap {
  constructor(props) {
    super({ ...props, mapSelectionId: 'eu-gl:vulnerability-analysis'});
    const corner1 = [39.853294, 13.305573];
    const corner2 = [41.853294, 15.305573];
    this.overlaysBackup = [];

    this.state ={
      baseLayers: [
        {
          name: 'tile-texture-1',
          title: 'OpenStreetMap',
          url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'
        },
        {
          name: 'tile-texture-2',
          title: 'OpenTopoMap',
          url: 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png'
        }
      ],
      overlays: [],
      exclusiveGroups: this.extractGroups([]),
      bounds: [corner1, corner2],
      loading: true
    };
  }  

    /**
     * Reder the map
     */
    render() {
    window.specificMapComponent = this;

    return (
      <MapComponent 
      loading={this.state.loading}
      bounds={this.state.bounds}
      baseLayers={this.state.baseLayers}
      overlays={this.state.overlays}
      exclusiveGroups={this.state.exclusiveGroups}
      studyAreaPolygon={this.state.studyAreaPolygon} />
    );
  }
};


if (document.getElementById('vulnerability-map-container') != null) {
  ReactDOM.render(<VulnerabilityMap />, document.getElementById('vulnerability-map-container'));
  document.getElementById('vulnerability-map-container').style.width = "100%";
  document.getElementById('vulnerability-map-container').style.height = "500px";
}